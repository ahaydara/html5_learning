@{
    ViewBag.Title = "Index";
}

<article>
    <h2>Country Index</h2>

    <p>
        <button data-bind="click:createNew">New</button>
    </p>
    <div data-bind="with:current">
        <fieldset>
            <p>
                Name: <input data-bind="value:Name" />
                <button data-bind="click:$parent.saveCurrent">Save</button>
                <button data-bind="click:$parent.cancelCurrent">Cancel</button>
            </p>
        </fieldset>
    </div>

    <table>
        <thead>
            <tr>
                <th></th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody data-bind="foreach:countries">
            <tr>
                <td>
                    <button data-bind="click:function(){$parent.editCountry(ID)}">Edit</button>
                    <button data-bind="click:function(){$parent.deleteCountry(ID)}">Delete</button>
                </td>
                <td data-bind="text:Name"></td>
            </tr>
        </tbody>
    </table>

</article>

@section ExtraScripts
{
    <script src="~/Scripts/REST.js"></script>
    <script src="~/Scripts/Countries.js"></script>
}
